<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snacks</title>
    <link rel="stylesheet" href="../css/items.css">
    <script src="../js/menu_items_all.js"></script>
</head>

<body>
    <div class="total-items">
        <div class="total-items-sub">
            <div class="item">
                <div>   
                    <img src="../Images/bread-butter.jpg" alt="bread-butter" id="img7">
                </div>
                <h3 id="name7">Bread butter</h3>
                <div class="price-button">
                    <h4 id="price7">Rs. 12</h4>
                    <button class="white_btn" id="add_btn7" onclick="add_more('add_btn7','price7','add_more_items7','name7','img7')">Add</button>
                    <div class="add_more_items" id="add_more_items7">
                        <button class="white_btn" id="add_btn7" onclick="decrement('count_of_items7','add_more_items7','add_btn7','price7','name7')">-</button>
                        <p class="count" id="count_of_items7">1</p>
                        <button class="white_btn" id="add_btn7" onclick="increment('count_of_items7','name7','price7')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/bread-butter-jam.jpg" alt="bread-butter-jam" id="img8">
                </div>
                <h3 id="name8">Bread butter jam</h3>
                <div class="price-button">
                    <h4 id="price8">Rs. 14</h4>
                    <button class="white_btn" id="add_btn8" onclick="add_more('add_btn8','price8','add_more_items8','name8','img8')">Add</button>
                    <div class="add_more_items" id="add_more_items8">
                        <button class="white_btn" id="add_btn8" onclick="decrement('count_of_items8','add_more_items8','add_btn8','price8','name8')">-</button>
                        <p class="count" id="count_of_items8">1</p>
                        <button class="white_btn" id="add_btn8" onclick="increment('count_of_items8','name8','price8')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/veg-sandwich.jpg" alt="veg-sanndwich" id="img9">
                </div>
                <h3 id="name9">Vegetable sandwich</h3>
                <div class="price-button">
                    <h4 id="price9">Rs. 22</h4>
                    <button class="white_btn" id="add_btn9" onclick="add_more('add_btn9','price9','add_more_items9','name9','img9')">Add</button>
                    <div class="add_more_items" id="add_more_items9">
                        <button class="white_btn" id="add_btn9" onclick="decrement('count_of_items9','add_more_items9','add_btn9','price9','name9')">-</button>
                        <p class="count" id="count_of_items9">1</p>
                        <button class="white_btn" id="add_btn9" onclick="increment('count_of_items9','name9','price9')">+</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="total-items-sub">
            <div class="item">
                <div>
                    <img src="../Images/veg-grilled-sandwich.jpg" alt="ve-grilled-sandwich" id="img10">
                </div>
                <h3 id="name10">Veg grilled sandwich</h3>
                <div class="price-button">
                    <h4 id="price10">Rs. 23</h4>
                    <button class="white_btn" id="add_btn10" onclick="add_more('add_btn10','price10','add_more_items10','name10','img10')">Add</button>
                    <div class="add_more_items" id="add_more_items10">
                        <button class="white_btn" id="add_btn10" onclick="decrement('count_of_items10','add_more_items10','add_btn10','price10','name10')">-</button>
                        <p class="count" id="count_of_items10">1</p>
                        <button class="white_btn" id="add_btn10" onclick="increment('count_of_items10','name10','price10')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/aloo-mutter-sandwich.jpg" alt="aloo-mutter-sandwich" id="img11">
                </div>
                <h3 id="name11">Aloo mutter sandwich</h3>
                <div class="price-button">
                    <h4 id="price11">Rs. 12</h4>
                    <button class="white_btn" id="add_btn11" onclick="add_more('add_btn11','price11','add_more_items11','name12','img12')">Add</button>
                    <div class="add_more_items" id="add_more_items11">
                        <button class="white_btn" id="add_btn11" onclick="decrement('count_of_items11','add_more_items11','add_btn11','price11','name11')">-</button>
                        <p class="count" id="count_of_items11">1</p>
                        <button class="white_btn" id="add_btn11" onclick="increment('count_of_items11','name11','price11')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/puff.png" alt="Puff" id="img12">
                </div>
                <h3 id="name12">Puff</h3>
                <div class="price-button">
                    <h4 id="price12">Rs. 23</h4>
                    <button class="white_btn" id="add_btn12" onclick="add_more('add_btn12','price12','add_more_items12','name12','img12')">Add</button>
                    <div class="add_more_items" id="add_more_items12">
                        <button class="white_btn" id="add_btn12" onclick="decrement('count_of_items12','add_more_items12','add_btn12','price12','name12')">-</button>
                        <p class="count" id="count_of_items12">1</p>
                        <button class="white_btn" id="add_btn12" onclick="increment('count_of_items12','name12','price12')">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

 <script>
    
items = {
    name_items: {

    },
    price_item: {
    },
    count_item: {

    }


}
function add_more(button_Id, price_item, add_more_items, name, img) {
    let name_item = document.getElementById(name);
    let add_btn = document.getElementById(button_Id);
    let price = document.getElementById(price_item);
    div_add_items = document.getElementById(add_more_items);
    div_add_items.style.display = "block";
    div_add_items.style.display = "flex";
    add_btn.style.display = "none";
    price.style.display = "none";
    const price_val = price.innerHTML;
    const name_val = name_item.innerHTML;
    items.name_items[name_val] = name_val;
    items.price_item[name_val] = (price_val).substring(4);
    items.count_item[name_val] = 1;
    sessionStorage.setItem("items", JSON.stringify(items));
    console.log(items)



}

function increment(count_of_items, name, price_item) {
    let count_items = document.getElementById(count_of_items);
    let name_item = document.getElementById(name);
    let price = document.getElementById(price_item);

    let x = parseInt(count_items.innerHTML); // Get the current count as an integer
    x = x + 1;
    count_items.innerHTML = x;
    let name_val = name_item.innerHTML;
    let price_val = price.innerHTML;

    items.name_items[name_val] = name_val;
    items.price_item[name_val] = parseInt(price_val.substring(4)) * x;
    items.count_item[name_val] = x;

    sessionStorage.setItem("items", JSON.stringify(items));

}
function decrement(count_of_items, add_more_items, button_Id, price_item, name) {
    let add_btn = document.getElementById(button_Id);
    let name_item = document.getElementById(name);
    let price = document.getElementById(price_item);
    let count_items = document.getElementById(count_of_items);
    div_add_items = document.getElementById(add_more_items);
    let x = parseInt(count_items.innerHTML); // Get the current count as an integer
    let name_val = name_item.innerHTML;
    let price_val = price.innerHTML;
    if (x == 1) {
        div_add_items.style.display = "none";
        add_btn.style.display = "block";
        price.style.display = "block";
        count_items.innerHTML = 1;
        items.name_items[name_val] = name_val;
        items.price_item[name_val] = parseInt(price_val.substring(4)) ;
        items.count_item[name_val] = 1;
        return;
    }
    x = x - 1;
    count_items.innerHTML = x;

    items.name_items[name_val] = name_val;
    items.price_item[name_val] = parseInt(price_val.substring(4)) * x;
    items.count_item[name_val] = x;


    sessionStorage.setItem("items", JSON.stringify(items));


}

 </script>
</html>