<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snacks</title>
    <link rel="stylesheet" href="../css/items.css">
    <script src="../js/menu_items_all.js"></script>
</head>

<body>
    <div class="total-items">
        <div class="total-items-sub">
            <div class="item">
                <div>
                    <img id="img1" src="../Images/kullad-chai.png" alt="Chai">
                </div>
                <h3 id="name1">Tea</h3>
                <div class="price-button">
                    <h4 id="price1">Rs. 13</h4>
                    <button class="white_btn" id="add_btn1"
                        onclick="add_more('add_btn1','price1','add_more_items1','name1','img1')">Add</button>
                    <div class="add_more_items" id="add_more_items1">
                        <button class="white_btn" id="add_btn1"
                            onclick="decrement('count_of_items1','add_more_items1','add_btn1','price1','name1')">-</button>
                        <p class="count" id="count_of_items1">1</p>
                        <button class="white_btn" id="add_btn1" onclick="increment('count_of_items1','name1','price1')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/chai.png" alt="Coffee">
                </div>
                <h3>Coffee</h3>
                <div class="price-button">
                    <h4 id="price2">Rs. 14</h4>
                    <button class="white_btn" id="add_btn2"
                        onclick="add_more('add_btn2','price2','add_more_items2')">Add</button>
                    <div class="add_more_items" id="add_more_items2">
                        <button class="white_btn" id="add_btn2"
                            onclick="decrement('count_of_items2','add_more_items2','add_btn2','price2')">-</button>
                        <p class="count" id="count_of_items2">1</p>
                        <button class="white_btn" id="add_btn2" onclick="increment('count_of_items2')">+</button>
                    </div>
                </div>
            </div>

            <div class="item">
                <div>
                    <img src="../Images/poha.jpg" alt="Poha">
                </div>
                <h3>Poha</h3>
                <div class="price-button">
                    <h4 id="price3">Rs. 22</h4>
                    <button class="white_btn" id="add_btn3"
                        onclick="add_more('add_btn3','price3','add_more_items3')">Add</button>
                    <div class="add_more_items" id="add_more_items3">
                        <button class="white_btn" id="add_btn3"
                            onclick="decrement('count_of_items3','add_more_items3','add_btn3','price3')">-</button>
                        <p class="count" id="count_of_items3">1</p>
                        <button class="white_btn" id="add_btn3" onclick="increment('count_of_items3')">+</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="total-items-sub">
            <div class="item">
                <div>
                    <img src="../Images/khaman.jpg" alt="Chai">
                </div>
                <h3>Khaman</h3>
                <div class="price-button">
                    <h4 id="price4">Rs. 13</h4>
                    <button class="white_btn" id="add_btn4"
                        onclick="add_more('add_btn4','price4','add_more_items4')">Add</button>
                    <div class="add_more_items" id="add_more_items4">
                        <button class="white_btn" id="add_btn4"
                            onclick="decrement('count_of_items4','add_more_items4','add_btn4','price4')">-</button>
                        <p class="count" id="count_of_items4">1</p>
                        <button class="white_btn" id="add_btn4" onclick="increment('count_of_items4')">+</button>
                    </div>
                </div>
            </div>


            <div class="item">
                <div>
                    <img src="../Images/sev khaman.jpg" alt="Chai">
                </div>
                <h3>Sev Khamani</h3>
                <div class="price-button">
                    <h4 id="price5">Rs. 14</h4>
                    <button class="white_btn" id="add_btn5"
                        onclick="add_more('add_btn5','price5','add_more_items5')">Add</button>
                    <div class="add_more_items" id="add_more_items5">
                        <button class="white_btn" id="add_btn5"
                            onclick="decrement('count_of_items5','add_more_items5','add_btn5','price5')">-</button>
                        <p class="count" id="count_of_items5">1</p>
                        <button class="white_btn" id="add_btn5" onclick="increment('count_of_items5')">+</button>
                    </div>
                
            </div>
        </div>


        <div class="item">
            <div>
                <img src="../Images/samosa.jpg" alt="Chai">
            </div>
            <h3>Samosa</h3>
            <div class="price-button">
                <h4 id="price6">Rs. 14</h4>
                <button class="white_btn" id="add_btn6"
                    onclick="add_more('add_btn6','price6','add_more_items6')">Add</button>
                <div class="add_more_items" id="add_more_items6">
                    <button class="white_btn" id="add_btn6"
                        onclick="decrement('count_of_items6','add_more_items6','add_btn6','price6')">-</button>
                    <p class="count" id="count_of_items6">1</p>
                    <button class="white_btn" id="add_btn6" onclick="increment('count_of_items6')">+</button>
                </div>
            </div>
        </div>
    </div>
</div>


</body>
<script>
    
items2 = {
    name_items: {

    },
    price_item: {
    },
    count_item: {

    }


}
function add_more(button_Id, price_item, add_more_items, name, img) {
    let name_item = document.getElementById(name);
    let add_btn = document.getElementById(button_Id);
    let price = document.getElementById(price_item);
    div_add_items = document.getElementById(add_more_items);
    div_add_items.style.display = "block";
    div_add_items.style.display = "flex";
    add_btn.style.display = "none";
    price.style.display = "none";
    const price_val = price.innerHTML;
    const name_val = name_item.innerHTML;
    items2.name_items[name_val] = name_val;
    items2.price_item[name_val] = (price_val).substring(4);
    items2.count_item[name_val] = 1;
    sessionStorage.setItem("items2", JSON.stringify(items2));
    console.log(items2)



}

function increment(count_of_items, name, price_item) {
    let count_items = document.getElementById(count_of_items);
    let name_item = document.getElementById(name);
    let price = document.getElementById(price_item);

    let x = parseInt(count_items.innerHTML); // Get the current count as an integer
    x = x + 1;
    count_items.innerHTML = x;
    let name_val = name_item.innerHTML;
    let price_val = price.innerHTML;

    items2.name_items[name_val] = name_val;
    items2.price_item[name_val] = parseInt(price_val.substring(4)) * x;
    items2.count_item[name_val] = x;

    sessionStorage.setItem("items2", JSON.stringify(items2));

}
function decrement(count_of_items, add_more_items, button_Id, price_item, name) {
    let add_btn = document.getElementById(button_Id);
    let name_item = document.getElementById(name);
    let price = document.getElementById(price_item);
    let count_items = document.getElementById(count_of_items);
    div_add_items = document.getElementById(add_more_items);
    let x = parseInt(count_items.innerHTML); // Get the current count as an integer
    let name_val = name_item.innerHTML;
    let price_val = price.innerHTML;
    if (x == 1) {
        div_add_items.style.display = "none";
        add_btn.style.display = "block";
        price.style.display = "block";
        count_items.innerHTML = 1;
        items2.name_items[name_val] = name_val;
        items2.price_item[name_val] = parseInt(price_val.substring(4)) ;
        items2.count_item[name_val] = 1;
        return;
    }
    x = x - 1;
    count_items.innerHTML = x;

    items2.name_items[name_val] = name_val;
    items2.price_item[name_val] = parseInt(price_val.substring(4)) * x;
    items2.count_item[name_val] = x;


    sessionStorage.setItem("items2", JSON.stringify(items2));


}

</script>
</html>